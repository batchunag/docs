# Reference

The model configuration includes the following fields, providing an overview of each in the table below.
For detailed information, refer to the documentation for each field.

| Field               | Description                                                                                                                                                                                |
|---------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `sourcegraph`       | Configures access to Sourcegraph-supplied models available through Cody Gateway.                                                                                                           |
| `defaultModels`     | Specifies the models assigned to each Cody feature (chat, fast edit, autocomplete).                                                                                                        |
| `providerOverrides` | Configures model providers, allowing you to customize Cody's connection to model providers, such as using your own API keys or self-hosted models.                                         |
| `modelOverrides`    | Extends or modifies the list of models Cody recognizes, along with their configurations.                                                                                                   |
| `selfHostedModels`  | Adds models to Codyâ€™s recognized models list with default configurations provided by Sourcegraph. Only available for certain models; general models can be configured in `modelOverrides`. |

## `sourcegraph`

The Sourcegraph-supplied models are those that are available from [Cody Gateway](/cody/core-concepts/cody-gateway), and your site configuration controls which of those models can be used.

If you wish to not use _any_ Sourcegraph-supplied models, and instead _only_ rely on those you have explicitly defined in your site configuration, you can set the `"sourcegraph"` field to `null`.

There are three top-level settings for configuring Sourcegraph-supplied LLM models:

| Field                     | Description                                                                              |
|---------------------------|------------------------------------------------------------------------------------------|
| `endpoint` (optional)     | The URL for connecting to Cody Gateway, defaults to the production instance.             |
| `accessToken` (optional)  | The access token used to connect to Cody Gateway, defaulting to the current license key. |
| `modelFilters` (optional) | Filters for which models to include from Cody Gateway.                                   |

**Model Filters**

The `"modelFilters"` section is how you restrict which Cody Gateway models are made available to your Sourcegraph Enterprise instance's users.

The first field is the `"statusFilter"`. Each LLM model is given a label by Sourcegraph as per its release, such as "stable", beta", or "experimental". By default, all models available on
Cody Gateway are exposed. Using the category filter ensures that only models with a particular category are made available to your users.

The `"allow"` and `"deny"` fields, are arrays of [model references](#model-configuration) for what models should or should not be included. These values accept wild cards.


The following examples illustrate how to use all these settings in conjunction:

```json
"cody.enabled": true,
"modelConfiguration": {
  "sourcegraph": {
    "modelFilters": {
      // Only allow "beta" and "stable" models.
      // Not "experimental" or "deprecated".
      "statusFilter": ["beta", "stable"],

      // Allow any models provided by Anthropic, OpenAI, Google and Fireworks.
      "allow": [
        "anthropic::*", // Anthropic models
        "openai::*", // OpenAI models
        "google::*", // Google Gemini models
        "fireworks::*", // Autocomplete models like StarCoder and DeepSeek-V2-Coder hosted on Fireworks
      ],

      // Do not include any models with the Model ID containing "turbo",
      // or any from AcmeCo.
      "deny": [
        "*turbo*",
        "acmeco::*"
      ]
    }
  }
}
```

| Field | Description |
| ----- | ----------- |
|